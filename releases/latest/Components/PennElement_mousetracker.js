/*! $AC$ PennController.newMouseTracker(name) Creates a new MouseTracker element $AC$$AC$ PennController.getMouseTracker(name) Retrieves an existing MouseTracker element $AC$$AC$ Mouse PElement.start() Starts listening to mouse movements $AC$$AC$ Mouse PElement.stop() Stops listening to mouse movements $AC$$AC$ Mouse PElement.settings.callback( commands ) Runs the specified command(s) when the mouse moves $AC$$AC$ Mouse PElement.settings.log() Logs the X and Y positions of the mouse $AC$ */!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=125)}({125:function(t,e){window.PennController._AddElementType("MouseTracker",function(t){let e,n;this.immediate=function(r){void 0===r&&(this.id=t.utils.guidGenerator()),$(document).mousemove(t=>{e=t.clientX,n=t.clientY,this.move&&this.move instanceof Function&&this.move(t)})},this.uponCreation=function(t){this.coordinates=[],this.enabled=!1,this.callbacks=[],this.currentStream=[];let r=this;this.move=async function(){if(r.enabled&&(r.currentStream.push([Date.now(),e,n]),r.callbacks.length))for(let t=0;t<r.callbacks.length;t++)r.callbacks[t]instanceof Function?await r.callbacks[t].apply(this,[e,n]):r.callbacks[t]._runPromises&&r.callbacks[t]._runPromises instanceof Function&&await r.callbacks[t]._runPromises(e,n)},this.finishStream=(()=>{if(this.currentStream.length>1){let t=this.currentStream[0][1],e=this.currentStream[0][2],n=this.currentStream[0][0];void 0===t&&(t=this.currentStream[1][1]),void 0===e&&(e=this.currentStream[1][2]);let r="x"+t+"y"+e+"w"+this.currentStream[0][3]+"h"+this.currentStream[0][4];for(let i=1;i<this.currentStream.length;i++){let o=this.currentStream[i][1]-t,s=this.currentStream[i][2]-e;r+="t"+(this.currentStream[i][0]-n),r+=(o>=0?"+":"")+o,r+=(s>=0?"+":"")+s,t=this.currentStream[i][1],e=this.currentStream[i][2],n=this.currentStream[i][0]}let i="NULL";window.innerWidth==this.currentStream[0][3]&&window.innerHeight==this.currentStream[0][4]||(i="Size of window changed to "+window.innerWidth+" * "+window.innerHeight),this.coordinates.push([r,this.currentStream[0][0],i])}this.currentStream=[]}),t()},this.end=function(){if(this.enabled=!1,this.finishStream(),this.log&&this.coordinates.length)for(let e=0;e<this.coordinates.length;e++)t.controllers.running.save(this.type,this.id,"Move",...this.coordinates[e])},this.value=function(){return e&&n?e+"-"+n:"NA-NA"},this.actions={start:function(t){this.currentStream=[[Date.now(),e,n,window.innerWidth,window.innerHeight]],this.enabled=!0,t()},stop:function(t){this.enabled=!1,this.finishStream(),t()}},this.settings={callback:function(t,...e){0!=e.length&&(this.callbacks=this.callbacks.concat(e),t())},log:function(t){this.log=!0,t()}}})}});